{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"plot-finder","text":"<p>Python library to find Polish land parcels and analyze their surroundings.</p> <p>Query the ULDK (GUGiK) API to get parcel data by TERYT ID or coordinates, then analyze nearby infrastructure using OpenStreetMap.</p>"},{"location":"#installation","title":"Installation","text":"BaseWith visualizationWith AI analysisWith geo extras (MPZP, GUGiK) <pre><code>pip install plot-finder\n</code></pre> <pre><code>pip install plot-finder[viz]\n</code></pre> <pre><code>pip install plot-finder[ai]\n</code></pre> <pre><code>pip install plot-finder[geo]\n</code></pre> <p>Requirements: Python 3.10+ | <code>pydantic</code> <code>httpx</code> <code>shapely</code> <code>pyproj</code></p>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer, PlotReporter\n\n# Find a parcel\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nprint(plot.voivodeship)  # mazowieckie\nprint(plot.centroid)     # (x, y)\n\n# Analyze surroundings\nanalyzer = PlotAnalyzer(plot, radius=3000)\n\nfor place in analyzer.education():\n    print(f\"{place.name} \u2014 {place.distance_m}m, walk {place.walk_min}min\")\n\n# Full report\nreport = PlotReporter(analyzer).report()\nreport.model_dump_json()\n</code></pre> <p>Visualization</p> <pre><code># pip install plot-finder[viz]\nfrom plot_finder.visualizer import PlotVisualizer\n\nviz = PlotVisualizer(report)\nviz.save(\"map.html\")  # interactive map\nviz.save(\"map.png\")   # static image\n</code></pre>"},{"location":"#whats-inside","title":"What's Inside","text":"Module Description Plot Find parcels by TERYT ID, address, or coordinates PlotAnalyzer Analyze surroundings \u2014 education, shops, transport, etc. Climate Temperature, precipitation, wind, frost/hot days Air Quality Air pollution data (OpenWeatherMap) Sunlight Sunrise, sunset, daylight hours, seasonal data Noise Noise levels from GDDKiA maps &amp; OSM estimation Risks Flood, seismic, soil, landslide, noise, mining risks MPZP Local spatial development plan from Geoportal GUGiK Spatial data services from GUGiK integration portal PlotReporter Full structured report in one call PlotVisualizer Interactive HTML maps &amp; static PNG images PlotAI AI-powered analysis (OpenAI)"},{"location":"#license","title":"License","text":"<p>MIT \u2014 use it however you want.</p>"},{"location":"ai/","title":"PlotAI","text":"<p>AI-powered plot analysis using OpenAI. Ask questions, get ratings, and receive natural language summaries of any PlotReport.</p> <p>Optional dependency \u2014 not included in the base install. <pre><code>pip install plot-finder[ai]\n</code></pre> This installs <code>openai</code>.</p>"},{"location":"ai/#quick-start","title":"Quick Start","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer, PlotReporter\nfrom plot_finder.ai import PlotAI\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot, radius=2000)\nreport = PlotReporter(analyzer).report()\n\nai = PlotAI(report, api_key=\"sk-...\")\nprint(ai.summary())\n</code></pre>"},{"location":"ai/#constructor","title":"Constructor","text":"<pre><code>PlotAI(report, *, api_key, model=\"gpt-4o-mini\")\n</code></pre> Parameter Type Default Description <code>report</code> <code>PlotReport</code> required Report to analyze <code>api_key</code> <code>str</code> required OpenAI API key <code>model</code> <code>str</code> <code>\"gpt-4o-mini\"</code> OpenAI model to use"},{"location":"ai/#methods","title":"Methods","text":"<p>All methods return <code>str</code>.</p>"},{"location":"ai/#summary","title":"<code>summary()</code>","text":"<p>Natural language summary of the plot and surroundings \u2014 location, nearby infrastructure, transport, nature, air quality, and sunlight.</p> <pre><code>print(ai.summary())\n# \"The plot 141201_1.0001.6509 is located in central Warsaw...\"\n</code></pre>"},{"location":"ai/#ratepurposeliving","title":"<code>rate(purpose=\"living\")</code>","text":"<p>Rate the plot 1\u201310 for a specific purpose with explanation.</p> Parameter Type Default Description <code>purpose</code> <code>str</code> <code>\"living\"</code> Purpose to rate for <pre><code>print(ai.rate())                        # living (default)\nprint(ai.rate(purpose=\"investment\"))    # investment\nprint(ai.rate(purpose=\"farming\"))       # farming\n</code></pre>"},{"location":"ai/#advantages","title":"<code>advantages()</code>","text":"<p>Key advantages of this location based on the report data.</p> <pre><code>print(ai.advantages())\n# \"1. Excellent transport links \u2014 3 bus stops within 500m...\"\n</code></pre>"},{"location":"ai/#disadvantages","title":"<code>disadvantages()</code>","text":"<p>Key disadvantages and risks of this location.</p> <pre><code>print(ai.disadvantages())\n# \"1. No schools within walking distance...\"\n</code></pre>"},{"location":"ai/#askquestion","title":"<code>ask(question)</code>","text":"<p>Freeform Q&amp;A about the plot.</p> Parameter Type Description <code>question</code> <code>str</code> Any question about the plot <pre><code>print(ai.ask(\"Is this a good place for a family with kids?\"))\nprint(ai.ask(\"What are the nearest parks?\"))\nprint(ai.ask(\"How is the air quality?\"))\n</code></pre>"},{"location":"ai/#model-selection","title":"Model Selection","text":"<p>The default model is <code>gpt-4o-mini</code> \u2014 fast and cheap. For more detailed analysis, use a larger model:</p> <pre><code>ai = PlotAI(report, api_key=\"sk-...\", model=\"gpt-4o\")\n</code></pre>"},{"location":"ai/#examples","title":"Examples","text":""},{"location":"ai/#full-analysis","title":"Full analysis","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer, PlotReporter\nfrom plot_finder.ai import PlotAI\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot, radius=3000)\nreport = PlotReporter(analyzer).report()\n\nai = PlotAI(report, api_key=\"sk-...\")\n\nprint(\"=== Summary ===\")\nprint(ai.summary())\n\nprint(\"\\n=== Rating (living) ===\")\nprint(ai.rate())\n\nprint(\"\\n=== Rating (investment) ===\")\nprint(ai.rate(purpose=\"investment\"))\n\nprint(\"\\n=== Advantages ===\")\nprint(ai.advantages())\n\nprint(\"\\n=== Disadvantages ===\")\nprint(ai.disadvantages())\n\nprint(\"\\n=== Q&amp;A ===\")\nprint(ai.ask(\"Is this a good place for a family with kids?\"))\n</code></pre>"},{"location":"ai/#using-environment-variable-for-api-key","title":"Using environment variable for API key","text":"<pre><code>import os\nfrom plot_finder.ai import PlotAI\n\nai = PlotAI(report, api_key=os.environ[\"OPENAI_API_KEY\"])\n</code></pre>"},{"location":"air/","title":"Air Quality","text":"<p>Get real-time air pollution data for the plot location using the OpenWeatherMap Air Pollution API.</p> <p>Requires a free API key from openweathermap.org.</p>"},{"location":"air/#setup","title":"Setup","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot, openweather_api_key=\"your_key_here\")\n</code></pre>"},{"location":"air/#usage","title":"Usage","text":"<pre><code>air = analyzer.air_quality()\n\nprint(air.aqi)        # 1-5\nprint(air.aqi_label)  # Good / Fair / Moderate / Poor / Very Poor\nprint(air.pm2_5)      # PM2.5 (ug/m3)\nprint(air.pm10)       # PM10 (ug/m3)\nprint(air.co)         # Carbon monoxide (ug/m3)\nprint(air.no2)        # Nitrogen dioxide (ug/m3)\nprint(air.o3)         # Ozone (ug/m3)\nprint(air.so2)        # Sulphur dioxide (ug/m3)\n</code></pre>"},{"location":"air/#airquality-fields","title":"AirQuality Fields","text":"Field Type Description <code>aqi</code> <code>int</code> Air Quality Index (1-5) <code>aqi_label</code> <code>str</code> Human-readable label <code>co</code> <code>float</code> Carbon monoxide (ug/m3) <code>no</code> <code>float</code> Nitrogen monoxide (ug/m3) <code>no2</code> <code>float</code> Nitrogen dioxide (ug/m3) <code>o3</code> <code>float</code> Ozone (ug/m3) <code>so2</code> <code>float</code> Sulphur dioxide (ug/m3) <code>pm2_5</code> <code>float</code> Fine particulate matter (ug/m3) <code>pm10</code> <code>float</code> Coarse particulate matter (ug/m3) <code>nh3</code> <code>float</code> Ammonia (ug/m3)"},{"location":"air/#aqi-scale","title":"AQI Scale","text":"AQI Label Description 1 Good Air quality is satisfactory 2 Fair Acceptable quality 3 Moderate Sensitive groups may be affected 4 Poor Everyone may experience effects 5 Very Poor Health alert"},{"location":"air/#error-handling","title":"Error Handling","text":"<pre><code>from plot_finder import OpenWeatherAuthError, OpenWeatherError\n\ntry:\n    air = analyzer.air_quality()\nexcept OpenWeatherAuthError:\n    print(\"Invalid or missing API key\")\nexcept OpenWeatherError:\n    print(\"OpenWeatherMap request failed\")\n</code></pre>"},{"location":"air/#getting-an-api-key","title":"Getting an API Key","text":"<ol> <li>Register at openweathermap.org</li> <li>Go to API Keys</li> <li>Copy your key and pass it to <code>PlotAnalyzer</code></li> </ol> <p>The free tier allows 1,000 calls/day.</p>"},{"location":"analyzer/","title":"PlotAnalyzer","text":"<p>Analyzes the surroundings of a Plot using OpenStreetMap data (via Overpass API) and real road routing (via OSRM).</p>"},{"location":"analyzer/#getting-started","title":"Getting Started","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot, radius=2000)  # default radius: 1000m\n</code></pre> <p>Every method accepts an optional <code>radius</code> parameter to override the default.</p>"},{"location":"analyzer/#education","title":"Education","text":"<p>Find schools, kindergartens, universities, and colleges.</p> <pre><code>places = analyzer.education()\nplaces = analyzer.education(radius=5000)\n\nfor p in places:\n    print(f\"{p.kind}: {p.name} \u2014 {p.distance_m}m\")\n</code></pre> Kind Description <code>school</code> Primary and secondary schools <code>kindergarten</code> Kindergartens and preschools <code>university</code> Universities <code>college</code> Colleges"},{"location":"analyzer/#finance","title":"Finance","text":"<p>Find ATMs and banks.</p> <pre><code>places = analyzer.finance()\n\nfor p in places:\n    print(f\"{p.kind}: {p.name} \u2014 {p.distance_m}m\")\n</code></pre> Kind Description <code>atm</code> ATMs / cash machines <code>bank</code> Bank branches"},{"location":"analyzer/#transport","title":"Transport","text":"<p>Find public transport stops, train stations, and airports.</p> <pre><code>places = analyzer.transport()\n\nfor p in places:\n    print(f\"{p.kind}: {p.name} \u2014 {p.distance_m}m\")\n</code></pre> Kind Description <code>bus_stop</code> Bus stops <code>bus_station</code> Bus stations <code>tram_stop</code> Tram stops <code>station</code> Train stations <code>halt</code> Small railway stops <code>ferry_terminal</code> Ferry terminals <code>aerodrome</code> Airports"},{"location":"analyzer/#infrastructure","title":"Infrastructure","text":"<p>Find shops, healthcare, restaurants, services, and public buildings.</p> <pre><code>places = analyzer.infrastructure()\n\nfor p in places:\n    print(f\"{p.kind}: {p.name} \u2014 {p.distance_m}m\")\n</code></pre> Kind Description <code>supermarket</code> Supermarkets <code>convenience</code> Convenience stores <code>mall</code> Shopping malls <code>pharmacy</code> Pharmacies <code>hospital</code> Hospitals <code>clinic</code> Medical clinics <code>doctors</code> Doctor offices <code>dentist</code> Dental clinics <code>post_office</code> Post offices <code>fuel</code> Gas / fuel stations <code>police</code> Police stations <code>fire_station</code> Fire stations <code>place_of_worship</code> Churches, mosques, etc. <code>restaurant</code> Restaurants <code>cafe</code> Cafes"},{"location":"analyzer/#green-areas","title":"Green Areas","text":"<p>Find parks, gardens, playgrounds, and forests.</p> <pre><code>places = analyzer.green_areas()\n\nfor p in places:\n    print(f\"{p.kind}: {p.name} \u2014 {p.distance_m}m\")\n</code></pre> Kind Description <code>park</code> Public parks <code>garden</code> Gardens <code>nature_reserve</code> Nature reserves <code>playground</code> Playgrounds <code>forest</code> Forests <code>wood</code> Woodlands"},{"location":"analyzer/#water","title":"Water","text":"<p>Find rivers, lakes, ponds, and other water bodies.</p> <pre><code>places = analyzer.water()\n\nfor p in places:\n    print(f\"{p.kind}: {p.name} \u2014 {p.distance_m}m\")\n</code></pre> Kind Description <code>water</code> Generic water body <code>river</code> Rivers <code>lake</code> Lakes <code>pond</code> Ponds <code>reservoir</code> Reservoirs <code>stream</code> Streams <code>canal</code> Canals"},{"location":"analyzer/#nuisances","title":"Nuisances","text":"<p>Find power lines, transformers, industrial zones, and factories.</p> <pre><code>places = analyzer.nuisances()\n\nfor p in places:\n    print(f\"{p.kind}: {p.name} \u2014 {p.distance_m}m\")\n</code></pre> Kind Description <code>line</code> Power lines <code>transformer</code> Power transformers <code>industrial</code> Industrial zones <code>works</code> Factories and plants"},{"location":"analyzer/#climate","title":"Climate","text":"<p>Get climate data for the plot location (last 365 days). Uses the Open-Meteo Archive API \u2014 no API key needed.</p> <pre><code>from plot_finder import Climate\n\nclimate = analyzer.climate()\n\nprint(f\"Avg temp: {climate.avg_temp}\u00b0C\")\nprint(f\"Frost days: {climate.frost_days}\")\nprint(f\"Sunshine: {climate.sunshine_hours}h\")\nprint(f\"Total rain: {climate.total_rain_mm}mm\")\n</code></pre> <p>Returns a <code>Climate</code> model. See the Climate docs for all fields.</p> <p>Raises: <code>OpenMeteoError</code></p>"},{"location":"analyzer/#how-it-works","title":"How It Works","text":"<ol> <li>The plot's centroid is converted from EPSG:2180 to WGS84</li> <li>An Overpass API query searches OpenStreetMap within the radius</li> <li>For each result, OSRM calculates the real road distance and driving time</li> <li>Walking and cycling times are estimated from the road distance (~5 km/h and ~15 km/h)</li> <li>Results are sorted by straight-line distance (closest first)</li> </ol>"},{"location":"api/","title":"API Reference","text":"<p>Full reference for all public classes, methods, and exceptions.</p>"},{"location":"api/#plot","title":"Plot","text":"<pre><code>Plot(*, plot_id=None, address=None, x=None, y=None, srid=2180)\n</code></pre> <p>Fetch parcel data from the ULDK API. Provide <code>plot_id</code> (TERYT ID), <code>address</code> (street address), or both <code>x</code> and <code>y</code>.</p> Parameter Type Default Description <code>plot_id</code> <code>str \\| None</code> <code>None</code> TERYT parcel ID <code>address</code> <code>str \\| None</code> <code>None</code> Street address (geocoded via Nominatim) <code>x</code> <code>float \\| None</code> <code>None</code> X coordinate <code>y</code> <code>float \\| None</code> <code>None</code> Y coordinate <code>srid</code> <code>int</code> <code>2180</code> Coordinate reference system <p>Raises: <code>PlotNotFoundError</code>, <code>ULDKError</code>, <code>GeocodeError</code>, <code>AddressNotFoundError</code></p>"},{"location":"api/#plotanalyzer","title":"PlotAnalyzer","text":"<pre><code>PlotAnalyzer(plot, *, radius=1000, openweather_api_key=None)\n</code></pre> <p>Create an analyzer for a <code>Plot</code>.</p> Parameter Type Default Description <code>plot</code> <code>Plot</code> required Plot to analyze <code>radius</code> <code>int</code> <code>1000</code> Default search radius in meters <code>openweather_api_key</code> <code>str \\| None</code> <code>None</code> API key for air quality data"},{"location":"api/#methods","title":"Methods","text":"<p>All place methods return <code>list[Place]</code> sorted by distance. All accept an optional <code>radius: int</code> parameter.</p>"},{"location":"api/#educationradiusnone","title":"<code>education(radius=None)</code>","text":"<p>Schools, kindergartens, universities, colleges.</p>"},{"location":"api/#financeradiusnone","title":"<code>finance(radius=None)</code>","text":"<p>ATMs, banks.</p>"},{"location":"api/#transportradiusnone","title":"<code>transport(radius=None)</code>","text":"<p>Bus stops, tram stops, train stations, airports, ferry terminals.</p>"},{"location":"api/#infrastructureradiusnone","title":"<code>infrastructure(radius=None)</code>","text":"<p>Supermarkets, convenience stores, malls, pharmacies, hospitals, clinics, doctors, dentists, post offices, fuel stations, police, fire stations, places of worship, restaurants, cafes.</p>"},{"location":"api/#green_areasradiusnone","title":"<code>green_areas(radius=None)</code>","text":"<p>Parks, gardens, nature reserves, playgrounds, forests, woodlands.</p>"},{"location":"api/#waterradiusnone","title":"<code>water(radius=None)</code>","text":"<p>Rivers, lakes, ponds, reservoirs, streams, canals.</p>"},{"location":"api/#nuisancesradiusnone","title":"<code>nuisances(radius=None)</code>","text":"<p>Power lines, transformers, industrial zones, factories.</p> <p>Raises: <code>NothingFoundError</code>, <code>OverpassError</code>, <code>OverpassTimeoutError</code>, <code>OverpassRateLimitError</code>, <code>OSRMError</code>, <code>OSRMTimeoutError</code></p>"},{"location":"api/#climate-climate","title":"<code>climate() -&gt; Climate</code>","text":"<p>Historical climate data (last 365 days). Uses Open-Meteo Archive API \u2014 no API key needed.</p> <p>Raises: <code>OpenMeteoError</code></p>"},{"location":"api/#air_quality-airquality","title":"<code>air_quality() -&gt; AirQuality</code>","text":"<p>Current air pollution data. Requires <code>openweather_api_key</code>.</p> <p>Raises: <code>OpenWeatherAuthError</code>, <code>OpenWeatherError</code></p>"},{"location":"api/#sunlightfor_datenone-suninfo","title":"<code>sunlight(for_date=None) -&gt; SunInfo</code>","text":"<p>Sun data (sunrise, sunset, daylight hours, golden hour, shadow length). No API key needed.</p> Parameter Type Default Description <code>for_date</code> <code>date \\| None</code> <code>None</code> Date to calculate for (default: today)"},{"location":"api/#sunlight_seasonal-seasonalsun","title":"<code>sunlight_seasonal() -&gt; SeasonalSun</code>","text":"<p>Sun data for all four seasonal reference dates (summer/winter solstice, spring/autumn equinox).</p>"},{"location":"api/#noisevoivodeshipnone-noise","title":"<code>noise(voivodeship=None) -&gt; Noise</code>","text":"<p>Noise level from GDDKiA strategic noise maps, with OSM fallback estimation.</p> Parameter Type Default Description <code>voivodeship</code> <code>str \\| None</code> <code>None</code> Override voivodeship (default: from plot data)"},{"location":"api/#risks-riskreport","title":"<code>risks() -&gt; RiskReport</code>","text":"<p>Environmental and geological risk assessment (flood, seismic, soil, landslide, noise, mining).</p>"},{"location":"api/#mpzp-mpzp","title":"<code>mpzp() -&gt; MPZP</code>","text":"<p>Local spatial development plan data from Geoportal. Requires <code>pip install plot-finder[geo]</code>.</p>"},{"location":"api/#airquality","title":"AirQuality","text":"<p>Pydantic <code>BaseModel</code> returned by <code>air_quality()</code>.</p> Field Type Description <code>aqi</code> <code>int</code> Air Quality Index (1-5) <code>aqi_label</code> <code>str</code> Good / Fair / Moderate / Poor / Very Poor <code>co</code> <code>float</code> Carbon monoxide (ug/m3) <code>no</code> <code>float</code> Nitrogen monoxide (ug/m3) <code>no2</code> <code>float</code> Nitrogen dioxide (ug/m3) <code>o3</code> <code>float</code> Ozone (ug/m3) <code>so2</code> <code>float</code> Sulphur dioxide (ug/m3) <code>pm2_5</code> <code>float</code> Fine particulate matter (ug/m3) <code>pm10</code> <code>float</code> Coarse particulate matter (ug/m3) <code>nh3</code> <code>float</code> Ammonia (ug/m3)"},{"location":"api/#climate","title":"Climate","text":"<p>Pydantic <code>BaseModel</code> returned by <code>climate()</code>.</p> Field Type Description <code>avg_temp</code> <code>float \\| None</code> Average daily temperature (\u00b0C) <code>max_temp</code> <code>float \\| None</code> Highest recorded temperature (\u00b0C) <code>min_temp</code> <code>float \\| None</code> Lowest recorded temperature (\u00b0C) <code>total_precipitation_mm</code> <code>float \\| None</code> Total precipitation (mm) <code>total_rain_mm</code> <code>float \\| None</code> Total rain (mm) <code>total_snow_cm</code> <code>float \\| None</code> Total snowfall (cm) <code>sunshine_hours</code> <code>float \\| None</code> Total sunshine hours <code>avg_wind_speed</code> <code>float \\| None</code> Average daily max wind speed (km/h) <code>max_wind_speed</code> <code>float \\| None</code> Highest recorded wind speed (km/h) <code>frost_days</code> <code>int \\| None</code> Days with min temp below 0\u00b0C <code>hot_days</code> <code>int \\| None</code> Days with max temp above 30\u00b0C <code>rainy_days</code> <code>int \\| None</code> Days with rain &gt; 0.1mm <code>snow_days</code> <code>int \\| None</code> Days with snowfall &gt; 0cm"},{"location":"api/#suninfo","title":"SunInfo","text":"<p>Pydantic <code>BaseModel</code> returned by <code>sunlight()</code>.</p> Field Type Description <code>date</code> <code>str</code> Date (ISO format) <code>dawn</code> <code>time</code> Civil dawn <code>sunrise</code> <code>time</code> Sunrise <code>solar_noon</code> <code>time</code> Solar noon <code>sunset</code> <code>time</code> Sunset <code>dusk</code> <code>time</code> Civil dusk <code>daylight_hours</code> <code>float</code> Hours of daylight <code>sun_elevation</code> <code>float</code> Current sun elevation (degrees) <code>sun_azimuth</code> <code>float</code> Current sun azimuth (degrees) <code>golden_hour_morning</code> <code>time \\| None</code> End of morning golden hour <code>golden_hour_evening</code> <code>time \\| None</code> Start of evening golden hour <code>shadow_length_10m</code> <code>float \\| None</code> Shadow length (m) for 10m object at noon"},{"location":"api/#seasonalsun","title":"SeasonalSun","text":"<p>Pydantic <code>BaseModel</code> returned by <code>sunlight_seasonal()</code>.</p> Field Type Description <code>summer_solstice</code> <code>SunInfo</code> June 21 <code>winter_solstice</code> <code>SunInfo</code> December 21 <code>spring_equinox</code> <code>SunInfo</code> March 20 <code>autumn_equinox</code> <code>SunInfo</code> September 22"},{"location":"api/#noise","title":"Noise","text":"<p>Pydantic <code>BaseModel</code> returned by <code>noise()</code>.</p> Field Type Description <code>noise_level_db</code> <code>float</code> Noise level in dB <code>quality</code> <code>str</code> Polish quality label <code>level</code> <code>str</code> English level key <code>description</code> <code>str</code> Polish description <code>color</code> <code>str</code> Indicator color <code>sources</code> <code>list[NoiseSource]</code> Detected sources <code>data_source</code> <code>str</code> Data origin"},{"location":"api/#noisesource","title":"NoiseSource","text":"Field Type Description <code>type</code> <code>str</code> Source type <code>name</code> <code>str</code> Source name <code>distance_km</code> <code>float</code> Distance (km) <code>impact_db</code> <code>float</code> Noise impact (dB) <code>lat</code> <code>float</code> Latitude <code>lon</code> <code>float</code> Longitude"},{"location":"api/#riskreport","title":"RiskReport","text":"<p>Pydantic <code>BaseModel</code> returned by <code>risks()</code>.</p> Field Type Description <code>risks</code> <code>list[RiskInfo]</code> Detected risks <code>total_risks</code> <code>int</code> Count"},{"location":"api/#riskinfo","title":"RiskInfo","text":"Field Type Description <code>risk_type</code> <code>str</code> flood / seismic / soil / landslide / noise / mining <code>name</code> <code>str</code> Polish name <code>level</code> <code>str</code> low / medium / high / unknown <code>is_at_risk</code> <code>bool</code> Whether affected <code>description</code> <code>str</code> Polish description <code>color</code> <code>str</code> Indicator color"},{"location":"api/#mpzp","title":"MPZP","text":"<p>Pydantic <code>BaseModel</code> returned by <code>mpzp()</code>. Requires <code>pip install plot-finder[geo]</code>.</p> Field Type Description <code>has_plan</code> <code>bool</code> Whether MPZP exists <code>zone_symbol</code> <code>str \\| None</code> Zone symbol <code>zone_name</code> <code>str \\| None</code> Zone description <code>plan_name</code> <code>str \\| None</code> Plan name <code>resolution</code> <code>str \\| None</code> Resolution number <code>resolution_date</code> <code>str \\| None</code> Resolution date <code>publication</code> <code>str \\| None</code> Publication reference <code>effective_date</code> <code>str \\| None</code> Effective date <code>wms_url</code> <code>str \\| None</code> WMS map URL"},{"location":"api/#gugikentry","title":"GugikEntry","text":"<p>Pydantic <code>BaseModel</code> returned by <code>Plot.gugik()</code>. Requires <code>pip install plot-finder[geo]</code>.</p> Field Type Description <code>organ</code> <code>str</code> Authority name <code>nazwa</code> <code>str</code> Dataset name <code>wms</code> <code>str \\| None</code> WMS URL <code>wfs</code> <code>str \\| None</code> WFS URL"},{"location":"api/#place","title":"Place","text":"<p>Pydantic <code>BaseModel</code> returned by all analyzer methods.</p> Field Type Description <code>name</code> <code>str \\| None</code> Place name from OSM <code>kind</code> <code>str</code> Type identifier <code>lat</code> <code>float</code> Latitude (WGS84) <code>lon</code> <code>float</code> Longitude (WGS84) <code>distance_m</code> <code>float</code> Straight-line distance (m) <code>walk_min</code> <code>int</code> Walking time (min) <code>bike_min</code> <code>int</code> Cycling time (min) <code>car_min</code> <code>int</code> Driving time (min)"},{"location":"api/#plotreport","title":"PlotReport","text":"<p>Pydantic <code>BaseModel</code> returned by <code>PlotReporter.report()</code>.</p> Field Type Default Description <code>plot_id</code> <code>str</code> \u2014 TERYT parcel ID <code>lat</code> <code>float</code> \u2014 Centroid latitude (WGS84) <code>lon</code> <code>float</code> \u2014 Centroid longitude (WGS84) <code>radius</code> <code>int</code> \u2014 Search radius in meters <code>education</code> <code>list[Place]</code> <code>[]</code> Schools, kindergartens, universities <code>finance</code> <code>list[Place]</code> <code>[]</code> ATMs, banks <code>transport</code> <code>list[Place]</code> <code>[]</code> Bus stops, stations, airports <code>infrastructure</code> <code>list[Place]</code> <code>[]</code> Shops, healthcare, services <code>green_areas</code> <code>list[Place]</code> <code>[]</code> Parks, gardens, forests <code>water</code> <code>list[Place]</code> <code>[]</code> Rivers, lakes, ponds <code>nuisances</code> <code>list[Place]</code> <code>[]</code> Power lines, industrial zones, factories <code>air_quality</code> <code>AirQuality \\| None</code> <code>None</code> Air pollution data <code>climate</code> <code>Climate \\| None</code> <code>None</code> Temperature, precipitation, wind (last 365 days) <code>sunlight</code> <code>SunInfo \\| None</code> <code>None</code> Sun position and daylight <code>seasonal_sun</code> <code>SeasonalSun \\| None</code> <code>None</code> Seasonal sun data (4 dates) <code>noise</code> <code>Noise \\| None</code> <code>None</code> Noise level data <code>risks</code> <code>RiskReport \\| None</code> <code>None</code> Environmental risk assessment <code>mpzp</code> <code>MPZP \\| None</code> <code>None</code> Spatial development plan <code>gugik</code> <code>list[GugikEntry] \\| None</code> <code>None</code> GUGiK integration data"},{"location":"api/#plotreporter","title":"PlotReporter","text":"<pre><code>PlotReporter(analyzer)\n</code></pre> Parameter Type Description <code>analyzer</code> <code>PlotAnalyzer</code> Analyzer to collect data from"},{"location":"api/#methods_1","title":"Methods","text":""},{"location":"api/#reportfor_datenone-plotreport","title":"<code>report(for_date=None) -&gt; PlotReport</code>","text":"<p>Runs all analyzer methods. Catches <code>NothingFoundError</code> per category, skips air quality if no API key.</p>"},{"location":"api/#plotvisualizer","title":"PlotVisualizer","text":"<p><code>from plot_finder.visualizer import PlotVisualizer</code> \u2014 requires <code>pip install plot-finder[viz]</code></p> <pre><code>PlotVisualizer(report, *, colors=None, plot_color=\"red\")\n</code></pre> Parameter Type Default Description <code>report</code> <code>PlotReport</code> required Report to visualize <code>colors</code> <code>dict[str, str] \\| None</code> <code>None</code> Override category colours <code>plot_color</code> <code>str</code> <code>\"red\"</code> Centre marker and radius circle colour"},{"location":"api/#methods_2","title":"Methods","text":""},{"location":"api/#map-foliummap","title":"<code>map() -&gt; folium.Map</code>","text":"<p>Interactive HTML map with markers, radius circle, and layer control. Requires <code>folium</code>.</p>"},{"location":"api/#imagewidth800-height600-zoomnone-marker_radius6-pilimageimage","title":"<code>image(width=800, height=600, zoom=None, marker_radius=6) -&gt; PIL.Image.Image</code>","text":"<p>Static map image from OpenStreetMap tiles. Requires <code>Pillow</code>.</p>"},{"location":"api/#savepath","title":"<code>save(path)</code>","text":"<p>Auto-detects by extension: <code>.png</code>/<code>.jpg</code> \u2192 static image, <code>.html</code> \u2192 interactive map.</p>"},{"location":"api/#plotai","title":"PlotAI","text":"<p><code>from plot_finder.ai import PlotAI</code> \u2014 requires <code>pip install plot-finder[ai]</code></p> <pre><code>PlotAI(report, *, api_key, model=\"gpt-4o-mini\")\n</code></pre> Parameter Type Default Description <code>report</code> <code>PlotReport</code> required Report to analyze <code>api_key</code> <code>str</code> required OpenAI API key <code>model</code> <code>str</code> <code>\"gpt-4o-mini\"</code> OpenAI model to use"},{"location":"api/#methods_3","title":"Methods","text":"<p>All methods return <code>str</code>.</p>"},{"location":"api/#summary","title":"<code>summary()</code>","text":"<p>Natural language summary of the plot and surroundings.</p>"},{"location":"api/#ratepurposeliving","title":"<code>rate(purpose=\"living\")</code>","text":"<p>Rate the plot 1\u201310 for a purpose (living / investment / farming) with explanation.</p>"},{"location":"api/#advantages","title":"<code>advantages()</code>","text":"<p>Key advantages of this location.</p>"},{"location":"api/#disadvantages","title":"<code>disadvantages()</code>","text":"<p>Key disadvantages and risks.</p>"},{"location":"api/#askquestion","title":"<code>ask(question)</code>","text":"<p>Freeform Q&amp;A about the plot.</p>"},{"location":"api/#exceptions","title":"Exceptions","text":"Exception Parent Description <code>ULDKError</code> <code>Exception</code> Base ULDK API error <code>PlotNotFoundError</code> <code>ULDKError</code> Parcel not found <code>NothingFoundError</code> <code>Exception</code> No results in radius <code>OverpassError</code> <code>Exception</code> Base Overpass API error <code>OverpassTimeoutError</code> <code>OverpassError</code> Overpass timeout <code>OverpassRateLimitError</code> <code>OverpassError</code> Overpass rate limit (429) <code>OSRMError</code> <code>Exception</code> Base OSRM error <code>OSRMTimeoutError</code> <code>OSRMError</code> OSRM timeout <code>OpenWeatherError</code> <code>Exception</code> Base OpenWeatherMap error <code>OpenWeatherAuthError</code> <code>OpenWeatherError</code> Missing/invalid API key <code>OpenMeteoError</code> <code>Exception</code> Open-Meteo API error <code>GeoportalError</code> <code>Exception</code> Geoportal WMS/WFS error <code>GDDKiAError</code> <code>Exception</code> GDDKiA noise map error <code>SOPOError</code> <code>Exception</code> PIG-PIB SOPO landslide error <code>GugikError</code> <code>Exception</code> GUGiK integration error <code>GeocodeError</code> <code>Exception</code> Base Nominatim geocoding error <code>AddressNotFoundError</code> <code>GeocodeError</code> No results for address"},{"location":"climate/","title":"Climate","text":"<p>Get historical climate data for a plot location. Uses the Open-Meteo Archive API \u2014 no API key needed.</p> <p>Data covers the last 365 days and is aggregated into a single <code>Climate</code> model.</p>"},{"location":"climate/#quick-start","title":"Quick Start","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot)\n\nclimate = analyzer.climate()\n\nprint(f\"Avg temperature: {climate.avg_temp}\u00b0C\")\nprint(f\"Max temperature: {climate.max_temp}\u00b0C\")\nprint(f\"Min temperature: {climate.min_temp}\u00b0C\")\nprint(f\"Total precipitation: {climate.total_precipitation_mm}mm\")\nprint(f\"Sunshine hours: {climate.sunshine_hours}h\")\nprint(f\"Frost days: {climate.frost_days}\")\nprint(f\"Hot days (&gt;30\u00b0C): {climate.hot_days}\")\n</code></pre>"},{"location":"climate/#climate-model","title":"Climate Model","text":"<p>Pydantic <code>BaseModel</code> returned by <code>analyzer.climate()</code>.</p> Field Type Description <code>avg_temp</code> <code>float \\| None</code> Average daily temperature (\u00b0C) <code>max_temp</code> <code>float \\| None</code> Highest recorded temperature (\u00b0C) <code>min_temp</code> <code>float \\| None</code> Lowest recorded temperature (\u00b0C) <code>total_precipitation_mm</code> <code>float \\| None</code> Total precipitation (mm) <code>total_rain_mm</code> <code>float \\| None</code> Total rain (mm) <code>total_snow_cm</code> <code>float \\| None</code> Total snowfall (cm) <code>sunshine_hours</code> <code>float \\| None</code> Total sunshine hours <code>avg_wind_speed</code> <code>float \\| None</code> Average daily max wind speed (km/h) <code>max_wind_speed</code> <code>float \\| None</code> Highest recorded wind speed (km/h) <code>frost_days</code> <code>int \\| None</code> Days with min temp below 0\u00b0C <code>hot_days</code> <code>int \\| None</code> Days with max temp above 30\u00b0C <code>rainy_days</code> <code>int \\| None</code> Days with rain &gt; 0.1mm <code>snow_days</code> <code>int \\| None</code> Days with snowfall &gt; 0cm"},{"location":"climate/#error-handling","title":"Error Handling","text":"<pre><code>from plot_finder import OpenMeteoError\n\ntry:\n    climate = analyzer.climate()\nexcept OpenMeteoError as e:\n    print(f\"Climate data unavailable: {e}\")\n</code></pre> Exception When <code>OpenMeteoError</code> Open-Meteo API request failed or timed out"},{"location":"errors/","title":"Error Handling","text":"<p>All custom exceptions are importable from <code>plot_finder</code>.</p>"},{"location":"errors/#exception-hierarchy","title":"Exception Hierarchy","text":"<pre><code>Exception\n\u251c\u2500\u2500 ULDKError\n\u2502   \u2514\u2500\u2500 PlotNotFoundError\n\u251c\u2500\u2500 GeocodeError\n\u2502   \u2514\u2500\u2500 AddressNotFoundError\n\u251c\u2500\u2500 NothingFoundError\n\u251c\u2500\u2500 OverpassError\n\u2502   \u251c\u2500\u2500 OverpassTimeoutError\n\u2502   \u2514\u2500\u2500 OverpassRateLimitError\n\u251c\u2500\u2500 OSRMError\n\u2502   \u2514\u2500\u2500 OSRMTimeoutError\n\u251c\u2500\u2500 OpenWeatherError\n\u2502   \u2514\u2500\u2500 OpenWeatherAuthError\n\u251c\u2500\u2500 OpenMeteoError\n\u251c\u2500\u2500 GeoportalError\n\u251c\u2500\u2500 GDDKiAError\n\u251c\u2500\u2500 SOPOError\n\u2514\u2500\u2500 GugikError\n</code></pre>"},{"location":"errors/#exceptions","title":"Exceptions","text":"Exception When <code>ULDKError</code> Base error for ULDK API issues <code>PlotNotFoundError</code> No parcel found for given TERYT ID or coordinates <code>GeocodeError</code> Nominatim geocoding request failed <code>AddressNotFoundError</code> No results for the given address <code>NothingFoundError</code> No places found within the given radius <code>OverpassError</code> Overpass API (OpenStreetMap) request failed <code>OverpassTimeoutError</code> Overpass API timed out \u2014 server is busy <code>OverpassRateLimitError</code> Overpass API rate limit exceeded (HTTP 429) <code>OSRMError</code> OSRM routing request failed <code>OSRMTimeoutError</code> OSRM request timed out <code>OpenWeatherError</code> OpenWeatherMap API request failed <code>OpenWeatherAuthError</code> Missing or invalid OpenWeatherMap API key <code>OpenMeteoError</code> Open-Meteo API request failed or timed out <code>GeoportalError</code> Geoportal WMS/WFS request failed <code>GDDKiAError</code> GDDKiA noise map request failed <code>SOPOError</code> PIG-PIB SOPO landslide API request failed <code>GugikError</code> GUGiK integration portal request failed"},{"location":"errors/#usage","title":"Usage","text":""},{"location":"errors/#handling-plot-search-errors","title":"Handling plot search errors","text":"<pre><code>from plot_finder import Plot, PlotNotFoundError\n\ntry:\n    plot = Plot(plot_id=\"000000_0.0000.0000\")\nexcept PlotNotFoundError:\n    print(\"Parcel not found\")\n</code></pre>"},{"location":"errors/#handling-address-geocoding-errors","title":"Handling address geocoding errors","text":"<pre><code>from plot_finder import Plot, AddressNotFoundError, GeocodeError\n\ntry:\n    plot = Plot(address=\"nonexistent address 12345\")\nexcept AddressNotFoundError:\n    print(\"Address not found\")\nexcept GeocodeError:\n    print(\"Geocoding service error\")\n</code></pre>"},{"location":"errors/#handling-analyzer-errors","title":"Handling analyzer errors","text":"<pre><code>from plot_finder import (\n    Plot,\n    PlotAnalyzer,\n    NothingFoundError,\n    OverpassTimeoutError,\n    OverpassRateLimitError,\n    OSRMError,\n)\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot)\n\ntry:\n    places = analyzer.education()\nexcept NothingFoundError:\n    print(\"No schools nearby \u2014 try a larger radius\")\nexcept OverpassTimeoutError:\n    print(\"OpenStreetMap server is busy \u2014 try again later\")\nexcept OverpassRateLimitError:\n    print(\"Too many requests \u2014 wait a moment\")\nexcept OSRMError:\n    print(\"Routing service unavailable\")\n</code></pre>"},{"location":"errors/#catch-all-overpass-errors","title":"Catch all Overpass errors","text":"<pre><code>from plot_finder import OverpassError\n\ntry:\n    places = analyzer.transport()\nexcept OverpassError as e:\n    # Catches OverpassTimeoutError and OverpassRateLimitError too\n    print(f\"OpenStreetMap error: {e}\")\n</code></pre>"},{"location":"gugik/","title":"GUGiK Integration","text":"<p>Fetch spatial data services registered in the GUGiK integration portal (eziudp) for a given plot's TERYT identifier.</p>"},{"location":"gugik/#installation","title":"Installation","text":"<p>GUGiK queries require the <code>geo</code> extra:</p> <pre><code>pip install plot-finder[geo]\n</code></pre>"},{"location":"gugik/#usage","title":"Usage","text":"<pre><code>from plot_finder import Plot\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\n\nfor entry in plot.gugik():\n    print(f\"{entry.organ}: {entry.nazwa}\")\n    if entry.wms:\n        print(f\"  WMS: {entry.wms}\")\n    if entry.wfs:\n        print(f\"  WFS: {entry.wfs}\")\n</code></pre>"},{"location":"gugik/#how-it-works","title":"How It Works","text":"<p>Queries <code>integracja.gugik.gov.pl/eziudp</code> with the plot's TERYT identifier and parses the HTML table of registered spatial data services. Returns a list of entries with the responsible authority, dataset name, and WMS/WFS service URLs.</p>"},{"location":"gugik/#gugikentry-model","title":"GugikEntry Model","text":"Field Type Description <code>organ</code> <code>str</code> Responsible authority name <code>nazwa</code> <code>str</code> Dataset / service name <code>wms</code> <code>str \\| None</code> WMS service URL (if available) <code>wfs</code> <code>str \\| None</code> WFS service URL (if available)"},{"location":"mpzp/","title":"MPZP","text":"<p>Query the local spatial development plan (Miejscowy Plan Zagospodarowania Przestrzennego) for a plot from the national Geoportal integration service.</p>"},{"location":"mpzp/#installation","title":"Installation","text":"<p>MPZP requires the <code>geo</code> extra:</p> <pre><code>pip install plot-finder[geo]\n</code></pre>"},{"location":"mpzp/#usage","title":"Usage","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot)\n\nmpzp = analyzer.mpzp()\n\nprint(mpzp.has_plan)         # True\nprint(mpzp.zone_symbol)     # \"MN\"\nprint(mpzp.zone_name)       # \"Tereny zabudowy mieszkaniowej jednorodzinnej\"\nprint(mpzp.plan_name)       # \"MPZP dla obszaru ...\"\nprint(mpzp.resolution)      # \"Uchwala Nr XXIII/123/2020\"\nprint(mpzp.resolution_date) # \"2020-06-15\"\nprint(mpzp.wms_url)         # WMS map URL\n</code></pre>"},{"location":"mpzp/#how-it-works","title":"How It Works","text":"<ol> <li>Computes the plot centroid in EPSG:2180 (native for Polish WMS services)</li> <li>Sends a <code>GetFeatureInfo</code> WMS request to the national MPZP integration service</li> <li>Follows any iframe redirects in the response</li> <li>Parses the HTML response to extract zone and plan information</li> <li>Builds a WMS <code>GetMap</code> URL for visualization</li> </ol>"},{"location":"mpzp/#mpzp-model","title":"MPZP Model","text":"Field Type Description <code>has_plan</code> <code>bool</code> Whether an MPZP exists for this location <code>zone_symbol</code> <code>str \\| None</code> Zone designation symbol (e.g. MN, MN/U, U) <code>zone_name</code> <code>str \\| None</code> Zone description (e.g. \"Tereny zabudowy mieszkaniowej\") <code>plan_name</code> <code>str \\| None</code> Full plan name <code>resolution</code> <code>str \\| None</code> Council resolution number <code>resolution_date</code> <code>str \\| None</code> Resolution date (YYYY-MM-DD) <code>publication</code> <code>str \\| None</code> Publication reference <code>effective_date</code> <code>str \\| None</code> Effective date (YYYY-MM-DD) <code>wms_url</code> <code>str \\| None</code> WMS GetMap URL for the plan area"},{"location":"noise/","title":"Noise","text":"<p>Estimate noise levels at the plot location using official GDDKiA strategic noise maps, with OpenStreetMap fallback estimation.</p>"},{"location":"noise/#usage","title":"Usage","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot)\n\nnoise = analyzer.noise()\n\nprint(noise.noise_level_db)  # 52.0\nprint(noise.quality)         # \"Niski\"\nprint(noise.level)           # \"low\"\nprint(noise.color)           # \"lightgreen\"\nprint(noise.data_source)     # \"GDDKiA\" or \"OpenStreetMap (szacunkowy)\"\n\nfor src in noise.sources:\n    print(f\"{src.type}: {src.name} \u2014 {src.distance_km} km, {src.impact_db} dB\")\n</code></pre>"},{"location":"noise/#how-it-works","title":"How It Works","text":"<ol> <li>GDDKiA WMS \u2014 queries the official strategic noise map (LDWN indicator) from Geoportal. Tries the voivodeship-specific layer first, then falls back to major voivodeships.</li> <li>OSM fallback \u2014 if no GDDKiA data is available, estimates noise based on distance to motorways, railways, airports, and industrial zones from OpenStreetMap.</li> </ol>"},{"location":"noise/#noise-model","title":"Noise Model","text":"Field Type Description <code>noise_level_db</code> <code>float</code> Estimated noise level in decibels <code>quality</code> <code>str</code> Polish quality label (Bardzo niski / Niski / Umiarkowany / Wysoki / Bardzo wysoki) <code>level</code> <code>str</code> English level key (very_low / low / moderate / high / very_high) <code>description</code> <code>str</code> Polish description <code>color</code> <code>str</code> Indicator color (green / lightgreen / yellow / orange / red) <code>sources</code> <code>list[NoiseSource]</code> Detected noise sources <code>data_source</code> <code>str</code> Data origin (GDDKiA or OpenStreetMap)"},{"location":"noise/#noisesource-model","title":"NoiseSource Model","text":"Field Type Description <code>type</code> <code>str</code> Source type (e.g. Autostrada, Linia kolejowa) <code>name</code> <code>str</code> Source name from map data <code>distance_km</code> <code>float</code> Distance from plot in km <code>impact_db</code> <code>float</code> Estimated noise impact in dB <code>lat</code> <code>float</code> Latitude <code>lon</code> <code>float</code> Longitude"},{"location":"noise/#noise-levels","title":"Noise Levels","text":"Range Quality Level Color &lt; 45 dB Bardzo niski very_low green 45\u201355 dB Niski low lightgreen 55\u201365 dB Umiarkowany moderate yellow 65\u201375 dB Wysoki high orange &gt; 75 dB Bardzo wysoki very_high red"},{"location":"place/","title":"Place","text":"<p>Every search method in PlotAnalyzer returns a list of <code>Place</code> objects. <code>Place</code> is a Pydantic <code>BaseModel</code>.</p>"},{"location":"place/#fields","title":"Fields","text":"Field Type Description <code>name</code> <code>str \\| None</code> Place name from OpenStreetMap <code>kind</code> <code>str</code> Type (<code>school</code>, <code>atm</code>, <code>bus_stop</code>, <code>park</code>, etc.) <code>lat</code> <code>float</code> Latitude (WGS84) <code>lon</code> <code>float</code> Longitude (WGS84) <code>distance_m</code> <code>float</code> Straight-line distance in meters <code>walk_min</code> <code>int</code> Walking time in minutes (~5 km/h) <code>bike_min</code> <code>int</code> Cycling time in minutes (~15 km/h) <code>car_min</code> <code>int</code> Driving time in minutes (via OSRM)"},{"location":"place/#travel-time","title":"Travel Time","text":"<ul> <li>Driving \u2014 real route time from OSRM (road network routing)</li> <li>Walking &amp; Cycling \u2014 calculated from the OSRM road distance at average speeds (5 km/h and 15 km/h)</li> </ul> <p>Results are always sorted by <code>distance_m</code> (closest first).</p>"},{"location":"place/#serialization","title":"Serialization","text":"<pre><code>place = places[0]\n\n# To dict\nplace.model_dump()\n# {'name': 'Szko\u0142a Podstawowa nr 3', 'kind': 'school', 'lat': 50.69, 'lon': 18.44,\n#  'distance_m': 850.0, 'walk_min': 13, 'bike_min': 5, 'car_min': 3}\n\n# To JSON\nplace.model_dump_json()\n\n# Access fields\nprint(place.name)        # Szko\u0142a Podstawowa nr 3\nprint(place.walk_min)    # 13\n</code></pre>"},{"location":"place/#example-output","title":"Example Output","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer\n\nplot = Plot(x=460166.4, y=313380.5)\nanalyzer = PlotAnalyzer(plot, radius=5000)\n\nfor p in analyzer.education():\n    print(f\"{p.kind}: {p.name}\")\n    print(f\"  Distance: {p.distance_m}m\")\n    print(f\"  Walk: {p.walk_min}min | Bike: {p.bike_min}min | Car: {p.car_min}min\")\n</code></pre> <pre><code>school: Niepubliczna Szko\u0142a Podstawowa w Bzinicy Starej\n  Distance: 1840.0m\n  Walk: 28min | Bike: 10min | Car: 6min\nschool: Zesp\u00f3l Szkolno-Przedszkolny im.M.Konopnickiej\n  Distance: 3193.0m\n  Walk: 59min | Bike: 20min | Car: 10min\n</code></pre>"},{"location":"plot/","title":"Plot","text":"<p>The <code>Plot</code> class fetches parcel data from the Polish ULDK (GUGiK) API automatically on creation.</p>"},{"location":"plot/#search-by-teryt-id","title":"Search by TERYT ID","text":"<pre><code>from plot_finder import Plot\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\n\nprint(plot.voivodeship)  # mazowieckie\nprint(plot.county)       # mi\u0144ski\nprint(plot.commune)      # Mi\u0144sk Mazowiecki (miasto)\nprint(plot.region)       # 0001\nprint(plot.parcel)       # 6509\nprint(plot.geom_wkt)     # POLYGON((...))\nprint(plot.geojson)      # {\"type\": \"Polygon\", \"coordinates\": [...]}\nprint(plot.centroid)     # (460149.55, 313348.56)\n</code></pre>"},{"location":"plot/#search-by-address","title":"Search by Address","text":"<pre><code>plot = Plot(address=\"ul. Nowy \u015awiat 1, Warszawa\")\n\nprint(plot.plot_id)      # TERYT ID\nprint(plot.voivodeship)  # mazowieckie\n</code></pre> <p>The address is geocoded to coordinates via Nominatim (free, no API key required), then used to find the parcel.</p>"},{"location":"plot/#search-by-coordinates","title":"Search by Coordinates","text":"<pre><code># EPSG:2180 (default Polish coordinate system)\nplot = Plot(x=460166.4, y=313380.5)\n\n# WGS84\nplot = Plot(x=21.5896, y=52.1717, srid=4326)\n</code></pre>"},{"location":"plot/#coordinate-systems","title":"Coordinate Systems","text":"<p>The <code>srid</code> parameter controls both input coordinate interpretation and output geometry format:</p> <pre><code># Input and output in EPSG:2180 (default)\nplot = Plot(plot_id=\"141201_1.0001.6509\")\n\n# Input and output in WGS84\nplot = Plot(plot_id=\"141201_1.0001.6509\", srid=4326)\nprint(plot.geojson)  # coordinates in WGS84\n</code></pre>"},{"location":"plot/#fields","title":"Fields","text":"Field Type Description <code>plot_id</code> <code>str \\| None</code> TERYT parcel ID <code>address</code> <code>str \\| None</code> Street address (geocoded via Nominatim) <code>x</code>, <code>y</code> <code>float \\| None</code> Search coordinates <code>srid</code> <code>int</code> Coordinate system (default: <code>2180</code>) <code>voivodeship</code> <code>str \\| None</code> Voivodeship (wojewodztwo) <code>county</code> <code>str \\| None</code> County (powiat) <code>commune</code> <code>str \\| None</code> Commune (gmina) <code>region</code> <code>str \\| None</code> Region (obreb) <code>parcel</code> <code>str \\| None</code> Parcel number <code>geom_wkt</code> <code>str \\| None</code> Geometry as WKT <code>geom_extent</code> <code>str \\| None</code> Bounding box <code>geojson</code> <code>dict \\| None</code> Geometry as GeoJSON (computed) <code>centroid</code> <code>tuple[float, float] \\| None</code> Center point <code>(x, y)</code> (computed) <code>datasource</code> <code>str \\| None</code> Data source identifier"},{"location":"plot/#serialization","title":"Serialization","text":"<p><code>Plot</code> is a Pydantic <code>BaseModel</code>, so you can serialize it:</p> <pre><code>plot.model_dump()       # dict\nplot.model_dump_json()  # JSON string\n</code></pre>"},{"location":"report/","title":"PlotReporter","text":"<p>Generate a full structured report for a plot in a single call. <code>PlotReporter</code> runs every PlotAnalyzer method and collects the results into a <code>PlotReport</code> Pydantic model.</p>"},{"location":"report/#quick-start","title":"Quick Start","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer, PlotReporter\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot, radius=2000)\n\nreporter = PlotReporter(analyzer)\nreport = reporter.report()\n\nprint(report.plot_id)                # 141201_1.0001.6509\nprint(len(report.education))         # 5\nprint(report.sunlight.daylight_hours)  # 10.31\n</code></pre>"},{"location":"report/#plotreporter_1","title":"PlotReporter","text":"<pre><code>PlotReporter(analyzer)\n</code></pre> Parameter Type Description <code>analyzer</code> <code>PlotAnalyzer</code> Analyzer to collect data from"},{"location":"report/#reportfor_datenone-plotreport","title":"<code>report(for_date=None) -&gt; PlotReport</code>","text":"<p>Runs all analyzer methods and returns a <code>PlotReport</code>. Each category is independent \u2014 if one fails with <code>NothingFoundError</code>, it is skipped (empty list). Air quality is skipped if no API key was provided.</p> Parameter Type Default Description <code>for_date</code> <code>date \\| None</code> <code>None</code> Date for sunlight data (default: today)"},{"location":"report/#plotreport","title":"PlotReport","text":"<p>Pydantic <code>BaseModel</code> with all analysis results.</p> Field Type Default Description <code>plot_id</code> <code>str</code> \u2014 TERYT parcel ID <code>lat</code> <code>float</code> \u2014 Centroid latitude (WGS84) <code>lon</code> <code>float</code> \u2014 Centroid longitude (WGS84) <code>radius</code> <code>int</code> \u2014 Search radius in meters <code>education</code> <code>list[Place]</code> <code>[]</code> Schools, kindergartens, universities <code>finance</code> <code>list[Place]</code> <code>[]</code> ATMs, banks <code>transport</code> <code>list[Place]</code> <code>[]</code> Bus stops, stations, airports <code>infrastructure</code> <code>list[Place]</code> <code>[]</code> Shops, healthcare, services <code>green_areas</code> <code>list[Place]</code> <code>[]</code> Parks, gardens, forests <code>water</code> <code>list[Place]</code> <code>[]</code> Rivers, lakes, ponds <code>nuisances</code> <code>list[Place]</code> <code>[]</code> Power lines, industrial zones, factories <code>air_quality</code> <code>AirQuality \\| None</code> <code>None</code> Air pollution data <code>climate</code> <code>Climate \\| None</code> <code>None</code> Temperature, precipitation, wind (last 365 days) <code>sunlight</code> <code>SunInfo \\| None</code> <code>None</code> Sun position and daylight"},{"location":"report/#serialization","title":"Serialization","text":"<pre><code># JSON\nreport.model_dump_json()\n\n# Dict\nreport.model_dump()\n\n# Individual fields\nfor place in report.green_areas:\n    print(f\"{place.name} \u2014 {place.distance_m}m\")\n</code></pre>"},{"location":"report/#error-handling","title":"Error Handling","text":"<p><code>PlotReporter</code> catches errors per category so one failing API doesn't break the whole report:</p> <ul> <li><code>NothingFoundError</code> \u2192 category stays <code>[]</code></li> <li><code>OpenWeatherAuthError</code> \u2192 <code>air_quality</code> stays <code>None</code></li> <li><code>OpenMeteoError</code> \u2192 <code>climate</code> stays <code>None</code></li> <li>Any other exception in <code>air_quality</code>, <code>climate</code>, or <code>sunlight</code> \u2192 field stays <code>None</code></li> </ul> <p>If you need to know why a category is empty, call the analyzer method directly \u2014 it will raise the original exception.</p>"},{"location":"risks/","title":"Risks","text":"<p>Check environmental and geological risks for a plot location \u2014 flood zones, seismic activity, soil contamination, landslides, noise pollution, and mining areas.</p>"},{"location":"risks/#usage","title":"Usage","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot)\n\nreport = analyzer.risks()\n\nprint(report.total_risks)  # 0\n\nfor risk in report.risks:\n    print(f\"{risk.name}: {risk.level} \u2014 {risk.description}\")\n</code></pre>"},{"location":"risks/#risk-checks","title":"Risk Checks","text":"<p>The <code>risks()</code> method runs six independent checks:</p> Check Source Description Flood Overpass (OSM) Distance to rivers, streams, water bodies Seismic Static zones Known seismic regions in Poland (Legnica-G\u0142og\u00f3w, G\u00f3rny \u015al\u0105sk, Dolny \u015al\u0105sk) Soil Overpass (OSM) Proximity to landfills, brownfields, industrial sites Landslide PIG-PIB SOPO API + regional fallback Official landslide registry, Karpaty/Sudety fallback Noise GDDKiA WMS + OSM fallback Traffic noise from strategic noise maps Mining Overpass (OSM) Quarries, mine shafts, historic mines"},{"location":"risks/#riskreport-model","title":"RiskReport Model","text":"Field Type Description <code>risks</code> <code>list[RiskInfo]</code> List of detected risks (only those with <code>is_at_risk=True</code>) <code>total_risks</code> <code>int</code> Number of detected risks"},{"location":"risks/#riskinfo-model","title":"RiskInfo Model","text":"Field Type Description <code>risk_type</code> <code>str</code> Risk category: flood, seismic, soil, landslide, noise, mining <code>name</code> <code>str</code> Polish risk name <code>level</code> <code>str</code> Risk level: low, medium, high, unknown <code>is_at_risk</code> <code>bool</code> Whether the plot is affected <code>description</code> <code>str</code> Polish description with details <code>color</code> <code>str</code> Indicator color (green / yellow / orange / red / gray)"},{"location":"sun/","title":"Sunlight","text":"<p>Get sun data for the plot location \u2014 sunrise, sunset, daylight hours, golden hour, shadow length, and seasonal comparisons. Calculated locally using the astral library, no API calls needed.</p>"},{"location":"sun/#usage","title":"Usage","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer\n\nplot = Plot(x=460166.4, y=313380.5)\nanalyzer = PlotAnalyzer(plot)\n\nsun = analyzer.sunlight()\n\nprint(sun.date)                  # 2026-02-19\nprint(sun.sunrise)               # 05:51:10\nprint(sun.sunset)                # 16:09:46\nprint(sun.daylight_hours)        # 10.31\nprint(sun.golden_hour_morning)   # 06:51:10\nprint(sun.golden_hour_evening)   # 15:09:46\nprint(sun.shadow_length_10m)     # 18.5\n</code></pre>"},{"location":"sun/#custom-date","title":"Custom Date","text":"<pre><code>from datetime import date\n\n# Summer solstice\nsun = analyzer.sunlight(for_date=date(2026, 6, 21))\nprint(sun.daylight_hours)  # ~16.5\n\n# Winter solstice\nsun = analyzer.sunlight(for_date=date(2026, 12, 21))\nprint(sun.daylight_hours)  # ~8.0\n</code></pre>"},{"location":"sun/#seasonal-sun","title":"Seasonal Sun","text":"<p>Get sun data for all four seasonal reference dates in one call:</p> <pre><code>seasonal = analyzer.sunlight_seasonal()\n\nprint(seasonal.summer_solstice.daylight_hours)     # ~16.5\nprint(seasonal.winter_solstice.daylight_hours)     # ~8.0\nprint(seasonal.winter_solstice.shadow_length_10m)  # long shadow\nprint(seasonal.spring_equinox.daylight_hours)      # ~12.0\n</code></pre>"},{"location":"sun/#suninfo-fields","title":"SunInfo Fields","text":"Field Type Description <code>date</code> <code>str</code> Date in ISO format (YYYY-MM-DD) <code>dawn</code> <code>time</code> Civil dawn time <code>sunrise</code> <code>time</code> Sunrise time <code>solar_noon</code> <code>time</code> Solar noon (sun at highest point) <code>sunset</code> <code>time</code> Sunset time <code>dusk</code> <code>time</code> Civil dusk time <code>daylight_hours</code> <code>float</code> Hours of daylight <code>sun_elevation</code> <code>float</code> Current sun elevation in degrees (0 = horizon, 90 = overhead) <code>sun_azimuth</code> <code>float</code> Current sun azimuth in degrees (0 = North, 90 = East, 180 = South) <code>golden_hour_morning</code> <code>time \\| None</code> End of morning golden hour (1h after sunrise) <code>golden_hour_evening</code> <code>time \\| None</code> Start of evening golden hour (1h before sunset) <code>shadow_length_10m</code> <code>float \\| None</code> Shadow length in meters for a 10m object at solar noon"},{"location":"sun/#seasonalsun-fields","title":"SeasonalSun Fields","text":"Field Type Description <code>summer_solstice</code> <code>SunInfo</code> Sun data for June 21 <code>winter_solstice</code> <code>SunInfo</code> Sun data for December 21 <code>spring_equinox</code> <code>SunInfo</code> Sun data for March 20 <code>autumn_equinox</code> <code>SunInfo</code> Sun data for September 22"},{"location":"sun/#how-it-works","title":"How It Works","text":"<p>All calculations are done locally using astronomical formulas \u2014 no API calls, no API keys, works offline. The astral library computes sun positions based on latitude, longitude, and date.</p> <p>Shadow length is calculated using the formula: <code>shadow = height / tan(elevation)</code> where elevation is the sun's angle at solar noon.</p>"},{"location":"visualizer/","title":"PlotVisualizer","text":"<p>Render a PlotReport as an interactive HTML map or a static PNG/JPG image.</p> <p>Optional dependency \u2014 not included in the base install. <pre><code>pip install plot-finder[viz]\n</code></pre> This installs <code>folium</code> (interactive maps) and <code>Pillow</code> (static images).</p>"},{"location":"visualizer/#quick-start","title":"Quick Start","text":"<pre><code>from plot_finder import Plot, PlotAnalyzer, PlotReporter\nfrom plot_finder.visualizer import PlotVisualizer\n\nplot = Plot(plot_id=\"141201_1.0001.6509\")\nanalyzer = PlotAnalyzer(plot, radius=2000)\nreport = PlotReporter(analyzer).report()\n\nviz = PlotVisualizer(report)\n\nviz.save(\"map.html\")   # interactive map\nviz.save(\"map.png\")    # static image\n</code></pre>"},{"location":"visualizer/#constructor","title":"Constructor","text":"<pre><code>PlotVisualizer(report, *, colors=None, plot_color=\"red\")\n</code></pre> Parameter Type Default Description <code>report</code> <code>PlotReport</code> required Report to visualize <code>colors</code> <code>dict[str, str] \\| None</code> <code>None</code> Override category colours <code>plot_color</code> <code>str</code> <code>\"red\"</code> Centre marker and radius circle colour"},{"location":"visualizer/#default-category-colours","title":"Default Category Colours","text":"Category Colour Icon (HTML) <code>education</code> blue graduation-cap <code>finance</code> green university <code>transport</code> orange bus <code>infrastructure</code> purple building <code>parks</code> darkgreen tree <code>water</code> cadetblue tint <p>Override any of them:</p> <pre><code>viz = PlotVisualizer(report, colors={\n    \"education\": \"#1f77b4\",\n    \"parks\": \"#2ca02c\",\n    \"transport\": \"darkred\",\n})\n</code></pre>"},{"location":"visualizer/#methods","title":"Methods","text":""},{"location":"visualizer/#map-foliummap","title":"<code>map() -&gt; folium.Map</code>","text":"<p>Returns an interactive folium map with:</p> <ul> <li>Red centre marker with plot ID popup</li> <li>Dashed circle showing search radius</li> <li>Colour-coded markers per category (as FeatureGroups)</li> <li>LayerControl to toggle categories on/off</li> <li>Popups with name, kind, distance, walk/bike/car time</li> </ul> <pre><code>m = viz.map()\nm.save(\"map.html\")\n\n# Or use in Jupyter\nm\n</code></pre> <p>Requires: <code>folium</code></p>"},{"location":"visualizer/#imagewidth800-height600-zoomnone-marker_radius6-pilimageimage","title":"<code>image(width=800, height=600, zoom=None, marker_radius=6) -&gt; PIL.Image.Image</code>","text":"<p>Renders a static map image from OpenStreetMap tiles.</p> Parameter Type Default Description <code>width</code> <code>int</code> <code>800</code> Image width in pixels <code>height</code> <code>int</code> <code>600</code> Image height in pixels <code>zoom</code> <code>int \\| None</code> <code>None</code> Zoom level (1\u201318). Auto-detected from radius if <code>None</code> <code>marker_radius</code> <code>int</code> <code>6</code> Size of place markers in pixels <pre><code>img = viz.image(width=1200, height=800)\nimg.save(\"map.png\")\n\n# Custom zoom\nimg = viz.image(zoom=14)\n\n# Bigger markers\nimg = viz.image(marker_radius=10)\n</code></pre> <p>The image contains:</p> <ul> <li>OpenStreetMap base tiles</li> <li>Circle outline showing search radius</li> <li>Colour-coded dot markers per category</li> <li>Larger centre marker for the plot</li> </ul> <p>Requires: <code>Pillow</code></p>"},{"location":"visualizer/#savepath","title":"<code>save(path)</code>","text":"<p>Auto-detects format by file extension:</p> Extension Output <code>.html</code> Interactive folium map <code>.png</code> Static PNG image <code>.jpg</code> / <code>.jpeg</code> Static JPEG image <pre><code>viz.save(\"map.html\")   # folium\nviz.save(\"map.png\")    # PIL \u2192 PNG\nviz.save(\"map.jpg\")    # PIL \u2192 JPEG\n</code></pre>"},{"location":"visualizer/#colour-reference","title":"Colour Reference","text":"<p>Colours accepted by <code>image()</code> (PIL) \u2014 any CSS colour name or hex string:</p> <pre><code>\"red\", \"#FF0000\", \"darkgreen\", \"#2ca02c\", \"cornflowerblue\"\n</code></pre> <p>Colours accepted by <code>map()</code> (folium icons) \u2014 limited set:</p> <pre><code>red, blue, green, purple, orange, darkred, darkblue,\ndarkgreen, cadetblue, darkpurple, pink, lightblue,\nlightgreen, beige, white, lightgray, gray, black, lightred\n</code></pre> <p>For best results, use colours that work in both systems (named colours like <code>red</code>, <code>blue</code>, <code>green</code>, <code>purple</code>, <code>orange</code>, <code>darkgreen</code>).</p>"},{"location":"visualizer/#examples","title":"Examples","text":""},{"location":"visualizer/#custom-colours","title":"Custom colours","text":"<pre><code>viz = PlotVisualizer(\n    report,\n    colors={\"education\": \"darkblue\", \"transport\": \"darkred\"},\n    plot_color=\"black\",\n)\nviz.save(\"custom.png\")\n</code></pre>"},{"location":"visualizer/#high-resolution-image","title":"High-resolution image","text":"<pre><code>img = viz.image(width=1920, height=1080, zoom=16, marker_radius=8)\nimg.save(\"hd.png\")\n</code></pre>"},{"location":"visualizer/#folium-in-jupyter","title":"Folium in Jupyter","text":"<pre><code>viz.map()  # displays inline\n</code></pre>"}]}